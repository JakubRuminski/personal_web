<label for=buttonD4a> Binary Search Tree (BST): </label>
<button type="button" id='buttonD4a' class='visibility_button' onClick="changeFileVisibility('buttonD4a')"> View File </button>
<button type="button" id='lightbuttonD4a' onClick="changeFileBackground('lightbuttonD4a')">ðŸŒš</button>
<code class='file_code'><pre style='display: none;'><code class='statements1'>from</code> functools <code class='statements1'>import</code> total_ordering<br><br><br>@total_ordering<br><code class='statements1'>class</code> TestClass:<br>    <code class='string'>""</code><code class='string'>" Represents an arbitrary thing, for testing the BST "</code><code class='string'>""</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__init__</code>(self, field1, field2=None)</code>:<br>        <code class='string'>""</code><code class='string'>" Initialise an object "</code><code class='string'>""</code><br>        <code class=brackets>self.</code>_field1 = field1<br>        <code class=brackets>self.</code>_field2 = field2<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__str__</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return a short string representation of this object "</code><code class='string'>""</code><br>        outstr = <code class=brackets>self.</code>_field1<br>        <code class='statements1'>return</code> outstr<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>full_str</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return a full string representation of this object "</code><code class='string'>""</code><br>        outstr = <code class=brackets>self.</code>_field1 + <code class='string'>": "</code><br>        outstr = outstr + <code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_field2)</code><br>        <code class='statements1'>return</code> outstr<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__eq__</code>(self, other)</code>:<br>        <code class='string'>""</code><code class='string'>" Return True if this object has exactly same field1 as other "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> <code class=brackets><code class='brackets'><code class='function'></code>(other.</code>_field1 == <code class=brackets>self.</code>_field1)</code>:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>return</code> <code class='statements1'>False</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__ne__</code>(self, other)</code>:<br>        <code class='string'>""</code><code class='string'>" Return False if this object has exactly same field1 as other "</code><code class='string'>""</code><br>        <code class='statements1'>return</code> <code class='statements1'>not</code> <code class=brackets><code class='brackets'><code class='function'></code>(self.</code>_field1 == <code class=brackets>other.</code>_field1)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__lt__</code>(self, other)</code>:<br>        <code class='string'>""</code><code class='string'>" Return True if this object is ordered before other<br><br>        A thing is less than another if it's field1 is alphabetically before<br>        "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> <code class=brackets>other.</code>_field1 > <code class=brackets>self.</code>_field1:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>return</code> <code class='statements1'>False</code><br><br><br><code class='statements1'>class</code> BSTNode:<br>    <code class='string'>""</code><code class='string'>" An internal node for a Binary Search Tree  "</code><code class='string'>""</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__init__</code>(self, item)</code>:<br>        <code class='string'>""</code><code class='string'>" Initialise a BSTNode on creation, with value==item "</code><code class='string'>""</code><br>        <code class=brackets>self.</code>_element = item<br>        <code class=brackets>self.</code>_leftchild = <code class='statements1'>None</code><br>        <code class=brackets>self.</code>_rightchild = <code class='statements1'>None</code><br>        <code class=brackets>self.</code>_parent = <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__str__</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return a string representation of the tree rooted at this node<br><br>        The string will be created by an in-order traversal<br>        "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> self:<br>            <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>or</code> <code class=brackets>self.</code>_rightchild:<br>                outstr = <code class='string'>''</code><br>                <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild:<br>                    outstr = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>__str__</code>()</code> + <code class='string'>' '</code><br>                outstr += <code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_element)</code><br>                <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild:<br>                    outstr += <code class='string'>' '</code> + <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>__str__</code>()</code><br>                <code class='statements1'>return</code> outstr<br>            else:<br>                <code class='statements1'>return</code> <code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_element)</code><br>        else:<br>            <code class='statements1'>return</code> <code class='string'>''</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>_stats</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the basic stats on the tree "</code><code class='string'>""</code><br>        <code class='statements1'>return</code> <code class='brackets'><code class='function'></code>(<code class='string'>'size = '</code> + <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>size</code>()</code>)</code><br>                + <code class='string'>'; height = '</code> + <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>height</code>()</code>)</code>)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>search</code>(self, searchitem)</code>:<br>        <code class='string'>""</code><code class='string'>" Return object matching searchitem, or None<br><br>        Args:<br>            searchitem: an object of any class stored in the BST<br><br>        "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        item = <code class='brackets'><code class='function'><code class=brackets>self.</code>search_node</code>(searchitem)</code><br>        <code class='statements1'>if</code> item:<br>            <code class='statements1'>return</code> <code class=brackets>item.</code>_element<br>        else:<br>            <code class='statements1'>return</code> <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>search_node</code>(self, searchitem)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the BSTNode (with subtree) containing searchitem, or None<br><br>        Args:<br>            searchitem: an object of any class stored in the BST<br>        "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> searchitem == <code class=brackets>self.</code>_element:<br>            <code class='statements1'>return</code> self<br>        <code class='statements1'>elif</code> searchitem < <code class=brackets>self.</code>_element <code class='statements1'>and</code> <code class=brackets>self.</code>_leftchild:<br>            <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>search_node</code>(searchitem)</code><br>        <code class='statements1'>elif</code> <code class=brackets>self.</code>_element < searchitem <code class='statements1'>and</code> <code class=brackets>self.</code>_rightchild:<br>            <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>search_node</code>(searchitem)</code><br>        else:<br>            <code class='statements1'>return</code> <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add</code>(self, obj)</code>:<br>        <code class='string'>""</code><code class='string'>" Add item to the tree, maintaining BST properties<br><br>        Returns the item added, or None if a matching object was already there<br>        "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> obj == <code class=brackets>self.</code>_element:<br>            <code class='statements1'>return</code> <code class='statements1'>None</code><br>        <code class='statements1'>if</code> obj < <code class=brackets>self.</code>_element:<br>            <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>is</code> None:<br>                <code class=brackets>self.</code>_leftchild = <code class='brackets'><code class='function'>BSTNode</code>(obj)</code><br>                <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_parent = self<br>                <code class='statements1'>return</code> obj<br>            else:<br>                <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>add</code>(obj)</code><br>        <code class='statements1'>elif</code> <code class=brackets>self.</code>_element < obj:<br>            <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild <code class='statements1'>is</code> None:<br>                <code class=brackets>self.</code>_rightchild = <code class='brackets'><code class='function'>BSTNode</code>(obj)</code><br>                <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_parent = self<br>                <code class='statements1'>return</code> obj<br>            else:<br>                <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>add</code>(obj)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>findmaxnode</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the BSTNode with maximal element at or below here "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>findmaxnode</code>()</code><br>        else:<br>            <code class='statements1'>return</code> self<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>height</code>(self)</code>:  <code class='comment'># Counted by element excluding root rather than edge</code><br>        <code class='string'>""</code><code class='string'>" Return the height of this node<br><br>        Note that with the recursive definition of the tree the height of the<br>        node is the same as the depth of the tree rooted at this node<br>        "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> self:<br>            <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>or</code> <code class=brackets>self.</code>_rightchild:<br>                left = 0<br>                right = 0<br>                <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>and</code> <code class=brackets>self.</code>_rightchild:<br>                    left += <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>height</code>()</code><br>                    right += <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>height</code>()</code><br>                    <code class='statements1'>if</code> left > right <code class='statements1'>and</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>internal</code>()</code>:<br>                        left += 1  <code class='comment'># add elements height to the left</code><br>                        <code class='statements1'>return</code> left<br>                    <code class='statements1'>elif</code> right >= left <code class='statements1'>and</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>internal</code>()</code>:<br>                        right += 1  <code class='comment'># add elements height to the right         # add height to either if == (in this case +1 added to right</code><br>                        <code class='statements1'>return</code> right<br>                <code class='statements1'>elif</code> <code class=brackets>self.</code>_leftchild:<br>                    left += 1  <code class='comment'># if parent isn't root add 1 to height</code><br>                    <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>internal</code>()</code>:<br>                        left += <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>height</code>()</code><br>                    <code class='statements1'>return</code> left<br>                <code class='statements1'>elif</code> <code class=brackets>self.</code>_rightchild:<br>                    right += 1  <code class='comment'># if parent isn't root add 1 to height</code><br>                    <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>internal</code>()</code>:<br>                        right += <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>height</code>()</code><br>                    <code class='statements1'>return</code> right<br>                <code class='statements1'>if</code> left > right:<br>                    <code class='statements1'>return</code> left<br>                else:<br>                    <code class='statements1'>return</code> right<br>            else:<br>                <code class='statements1'>return</code> 0<br>        else:<br>            <code class='statements1'>return</code> <code class='string'>''</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>size</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the size of this subtree<br><br>        The size is the number of nodes (or elements) in the tree,<br>        including this node<br>        "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> self:<br>            <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>or</code> <code class=brackets>self.</code>_rightchild:<br>                outstr = 0<br>                <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild:<br>                    outstr += <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>size</code>()</code><br>                outstr += 1<br>                <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild:<br>                    outstr += <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>size</code>()</code><br>                <code class='statements1'>return</code> outstr<br>            else:<br>                <code class='statements1'>return</code> 1<br>        else:<br>            <code class='statements1'>return</code> <code class='string'>''</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>leaf</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return True if this node has no children "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> <code class='statements1'>not</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>and</code> <code class='statements1'>not</code> <code class=brackets>self.</code>_rightchild:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>return</code> <code class='statements1'>False</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>semileaf</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return True if this node has exactly one child "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>and</code> <code class='statements1'>not</code> <code class=brackets>self.</code>_rightchild:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>elif</code> <code class=brackets>self.</code>_rightchild <code class='statements1'>and</code> <code class='statements1'>not</code> <code class=brackets>self.</code>_leftchild:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>return</code> <code class='statements1'>False</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>full</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return true if this node has two children "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>and</code> <code class=brackets>self.</code>_rightchild:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>return</code> <code class='statements1'>False</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>internal</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return True if this node has at least one child "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>or</code> <code class=brackets>self.</code>_rightchild:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>return</code> <code class='statements1'>False</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>remove</code>(self, searchitem)</code>:<br>        <code class='string'>""</code><code class='string'>" Remove and return the object matching searchitem, if there<br><br>        Args:<br>            searchitem - an object of any class stored in the BST<br><br>        Remove the matching object from the tree rooted at this node<br>        Maintains the BST properties<br>        "</code><code class='string'>""</code><br>        <code class='comment'># method body goes here</code><br>        node = <code class='brackets'><code class='function'><code class=brackets>self.</code>search_node</code>(searchitem)</code><br>        <code class='statements1'>if</code> node:<br>            <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets>node.</code>remove_node</code>()</code><br>        else:<br>            <code class='statements1'>return</code> <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>remove_node</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Remove this BSTNode from its tree, and return its element<br><br>        Maintains the BST properties<br>        "</code><code class='string'>""</code><br>        <code class='comment'># find the biggest item in the left tree</code><br>        <code class='comment'>#  - there must be a left tree, since this is a full node</code><br>        <code class='comment'>#  - the node for that item can have no right children</code><br>        <code class='comment'># move that item up into this item</code><br>        <code class='comment'># remove that old node, which is now a semileaf</code><br>        <code class='comment'># return the original element</code><br>        <code class='comment'># else if this has no children</code><br>        <code class='comment'># find who the parent was</code><br>        <code class='comment'># set the parent's appropriate child to None</code><br>        <code class='comment'># wipe this node</code><br>        <code class='comment'># return this node's element</code><br>        <code class='comment'># else if this has no right child (but must have a left child)</code><br>        <code class='comment'># shift leftchild up into its place, and clean up</code><br>        <code class='comment'># return the original element</code><br>        <code class='comment'># else this has no left child (but must have a right child)</code><br>        <code class='comment'># shift rightchild up into its place, and clean up</code><br>        <code class='comment'># return the original element</code><br><br>        <code class='comment'># method body goes here</code><br>        <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>full</code>()</code>:<br>            element = <code class=brackets>self.</code>_element<br>            node = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>findmaxnode</code>()</code><br>            <code class=brackets>self.</code>_element = <code class=brackets>node.</code>_element<br>            <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets>node.</code>semileaf</code>()</code> <code class='statements1'>and</code> node == <code class=brackets>self.</code>_leftchild:<br>                <code class=brackets>self.</code>_leftchild = <code class=brackets>node.</code>leftchild<br>                <code class=brackets><code class=brackets>node.</code>_leftchild.</code>_parent = self<br>            <code class='statements1'>elif</code> <code class='brackets'><code class='function'><code class=brackets>node.</code>semileaf</code>()</code>:<br>                <code class=brackets><code class=brackets>node.</code>_parent.</code>_rightchild = <code class=brackets>node.</code>_leftchild<br>                <code class=brackets><code class=brackets>node.</code>_leftchild.</code>_parent = <code class=brackets>node.</code>_parent<br>            else:<br>                <code class='statements1'>if</code> node == <code class=brackets>self.</code>_leftchild:<br>                    <code class=brackets>self.</code>_leftchild = <code class='statements1'>None</code><br>                else:<br>                    <code class=brackets><code class=brackets>node.</code>_parent.</code>_rightchild = <code class='statements1'>None</code><br>            <code class='statements1'>return</code> element<br>        <code class='statements1'>elif</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>leaf</code>()</code>:<br>            element = <code class=brackets>self.</code>_element<br>            <code class=brackets>self.</code>_element = <code class='statements1'>None</code><br>            <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_parent.</code>_rightchild == self:<br>                <code class=brackets><code class=brackets>self.</code>_parent.</code>_rightchild = <code class='statements1'>None</code><br>            else:<br>                <code class=brackets><code class=brackets>self.</code>_parent.</code>_leftchild = <code class='statements1'>None</code><br>            <code class=brackets>self.</code>_parent = <code class='statements1'>None</code><br>            <code class='statements1'>return</code> element<br>        <code class='statements1'>elif</code> <code class=brackets>self.</code>_leftchild:<br>            element = <code class=brackets>self.</code>_element<br>            <code class='statements1'>if</code> <code class=brackets>self.</code>_parent:<br>                <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_parent.</code>_leftchild == self:<br>                    <code class=brackets><code class=brackets>self.</code>_parent.</code>_leftchild = <code class=brackets>self.</code>_leftchild<br>                    <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_parent = <code class=brackets>self.</code>_parent<br>                else:<br>                    <code class=brackets><code class=brackets>self.</code>_parent.</code>_rightchild = <code class=brackets>self.</code>_leftchild<br>                    <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_parent = <code class=brackets>self.</code>_parent<br>            else:<br>                <code class=brackets>self.</code>_element = <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_element<br>                <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_leftchild:<br>                    <code class=brackets>self.</code>_leftchild = <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_leftchild<br>                    <code class=brackets><code class=brackets><code class=brackets>self.</code>_leftchild.</code>_leftchild.</code>_parent = self<br>                <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_rightchild:<br>                    <code class=brackets><code class=brackets><code class=brackets>self.</code>_leftchild.</code>_rightchild.</code>_parent = self<br>                    <code class=brackets>self.</code>_rightchild = <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_rightchild<br>                else:<br>                    <code class=brackets>self.</code>_leftchild = <code class='statements1'>None</code><br>            <code class='statements1'>return</code> element<br>        else:<br>            element = <code class=brackets>self.</code>_element<br>            <code class='statements1'>if</code> <code class=brackets>self.</code>_parent:<br>                <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_parent.</code>_leftchild == self:<br>                    <code class=brackets><code class=brackets>self.</code>_parent.</code>_leftchild = <code class=brackets>self.</code>_rightchild<br>                    <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_parent = <code class=brackets>self.</code>_parent<br>                else:<br>                    <code class=brackets><code class=brackets>self.</code>_parent.</code>_rightchild = <code class=brackets>self.</code>_rightchild<br>                    <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_parent = <code class=brackets>self.</code>_parent<br>            else:<br>                <code class=brackets>self.</code>_element = <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_element<br>                <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_leftchild:<br>                    <code class=brackets><code class=brackets><code class=brackets>self.</code>_rightchild.</code>_leftchild.</code>_parent = self<br>                    <code class=brackets>self.</code>_leftchild = <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_leftchild<br>                <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_rightchild:<br>                    <code class=brackets><code class=brackets><code class=brackets>self.</code>_rightchild.</code>_rightchild.</code>_parent = self<br>                    <code class=brackets>self.</code>_rightchild = <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_rightchild<br>                else:<br>                    <code class=brackets>self.</code>_rightchild = <code class='statements1'>None</code><br>            <code class='statements1'>return</code> element<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>_print_structure</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" (Private) Print a structured representation of tree at this node "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>_isthisapropertree</code>()</code> == False:<br>            <code class='brackets'><code class='function'>print</code>(<code class='string'>"ERROR: this is not a proper Binary Search Tree ++++++++++"</code>)</code><br>        outstr = <code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_element)</code> + <code class='string'>' (hgt='</code> + <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>height</code>()</code>)</code> + <code class='string'>')['</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            outstr = outstr + <code class='string'>"left: "</code> + <code class=brackets><code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_leftchild.</code>_element)</code><br>        else:<br>            outstr = outstr + <code class='string'>'left: *'</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            outstr = outstr + <code class='string'>"; right: "</code> + <code class=brackets><code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_rightchild.</code>_element)</code> + <code class='string'>']'</code><br>        else:<br>            outstr = outstr + <code class='string'>'; right: *]'</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_parent <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            outstr = outstr + <code class='string'>' -- parent: '</code> + <code class=brackets><code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_parent.</code>_element)</code><br>        else:<br>            outstr = outstr + <code class='string'>' -- parent: *'</code><br>        <code class='brackets'><code class='function'>print</code>(outstr)</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>_print_structure</code>()</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>_print_structure</code>()</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>_properBST</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return True if this is the root of a proper BST; False otherwise<br><br>        First checks that this is a proper tree (ie parent and child<br>        references all link up properly<br><br>        Then checks that it obeys the BST property<br>        "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> <code class='statements1'>not</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>_isthisapropertree</code>()</code>:<br>            <code class='statements1'>return</code> <code class='statements1'>False</code><br>        <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>_BSTproperties</code>()</code>[0]<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>_BSTproperties</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return a tuple describing state of this node as root of a BST<br><br>        Returns:<br>            (boolean, minvalue, maxvalue):<br>                boolean is True if it is a BST, and false otherwise<br>                minvalue is the lowest value in this subtree<br>                maxvalue is the highest value in this subtree<br>        "</code><code class='string'>""</code><br>        minvalue = <code class=brackets>self.</code>_element<br>        maxvalue = <code class=brackets>self.</code>_element<br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            leftstate = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>_BSTproperties</code>()</code><br>            <code class='statements1'>if</code> <code class='statements1'>not</code> leftstate[0] <code class='statements1'>or</code> leftstate[2] > <code class=brackets>self.</code>_element:<br>                <code class='statements1'>return</code> <code class='brackets'><code class='function'></code>(False, None, None)</code><br>            minvalue = leftstate[1]<br><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            rightstate = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>_BSTproperties</code>()</code><br>            <code class='statements1'>if</code> <code class='statements1'>not</code> rightstate[0] <code class='statements1'>or</code> rightstate[1] < <code class=brackets>self.</code>_element:<br>                <code class='statements1'>return</code> <code class='brackets'><code class='function'></code>(False, None, None)</code><br>            maxvalue = rightstate[2]<br><br>        <code class='statements1'>return</code> <code class='brackets'><code class='function'></code>(True, minvalue, maxvalue)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>_isthisapropertree</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return True if this node is a properly implemented tree "</code><code class='string'>""</code><br>        ok = <code class='statements1'>True</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_leftchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_leftchild.</code>_parent != self:<br>                ok = <code class='statements1'>False</code><br>            <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_leftchild.</code>_isthisapropertree</code>()</code> == False:<br>                ok = <code class='statements1'>False</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_rightchild <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class='statements1'>if</code> <code class=brackets><code class=brackets>self.</code>_rightchild.</code>_parent != self:<br>                ok = <code class='statements1'>False</code><br>            <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>_rightchild.</code>_isthisapropertree</code>()</code> == False:<br>                ok = <code class='statements1'>False</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_parent <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class='statements1'>if</code> <code class=brackets><code class=brackets><code class='brackets'><code class='function'></code>(self.</code>_parent.</code>_leftchild != self<br>                    <code class='statements1'>and</code> <code class=brackets><code class=brackets>self.</code>_parent.</code>_rightchild != self)</code>:<br>                ok = <code class='statements1'>False</code><br>        <code class='statements1'>return</code> ok<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>_testadd</code>()</code>:<br>        node = <code class='brackets'><code class='function'><code class='brackets'><code class='function'>BSTNode</code>(TestClass</code>(<code class='string'>"Memento"</code>, <code class='string'>"11/10/2000"</code>)</code>)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'> adding Melvin and Howard'</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"Melvin and Howard"</code>, <code class='string'>"19/09/1980"</code>)</code>)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'> adding a second version of Melvin and Howard'</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"Melvin and Howard"</code>, <code class='string'>"21/03/2007"</code>)</code>)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'> adding Mellow Mud'</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"Mellow Mud"</code>, <code class='string'>"21/09/2016"</code>)</code>)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'> adding Melody'</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"Melody"</code>, <code class='string'>"21/03/2007"</code>)</code>)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='statements1'>return</code> node<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>_test</code>()</code>:<br>        node = <code class='brackets'><code class='function'><code class='brackets'><code class='function'>BSTNode</code>(TestClass</code>(<code class='string'>"B"</code>, <code class='string'>"b"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"A"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"A"</code>, <code class='string'>"a"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"A"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"A"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"C"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"C"</code>, <code class='string'>"c"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"C"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"C"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"F"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"F"</code>, <code class='string'>"f"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"B"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"B"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"C"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"C"</code>, <code class='string'>"c"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"D"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"D"</code>, <code class='string'>"d"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"C"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"C"</code>, <code class='string'>"c"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"E"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"E"</code>, <code class='string'>"e"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"B"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"B"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"D"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"D"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"C"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"C"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"E"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"E"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"L"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"L"</code>, <code class='string'>"l"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"H"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"H"</code>, <code class='string'>"h"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"I"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"I"</code>, <code class='string'>"i"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'adding'</code>, <code class='string'>"G"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>add</code>(TestClass</code>(<code class='string'>"G"</code>, <code class='string'>"g"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"L"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"L"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"H"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"H"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"I"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"I"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'removing'</code>, <code class='string'>"G"</code>)</code><br>        <code class='brackets'><code class='function'><code class='brackets'><code class='function'><code class=brackets>node.</code>remove</code>(TestClass</code>(<code class='string'>"G"</code>)</code>)</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Ordered:'</code>, node)</code><br>        <code class='brackets'><code class='function'><code class=brackets>node.</code>_print_structure</code>()</code><br>        <code class='brackets'><code class='function'>print</code>(node)</code><br> </pre></code>