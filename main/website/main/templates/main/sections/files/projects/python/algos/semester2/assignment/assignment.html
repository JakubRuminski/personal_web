<label for=buttonD6> Assignment: </label>
                                    <button type="button" id='buttonD6' class='visibility_button' onClick="changeFileVisibility('buttonD6')"> View File </button>
                                    <button type="button" id='lightbuttonD6' onClick="changeFileBackground('lightbuttonD6')">ðŸŒš</button>
                                    <code class='file_code'><pre style='display: none;'><br><code class='statements1'>class</code> Vertex:<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__init__</code>(self, element)</code>:<br>        <code class=brackets>self.</code>__element = element<br>        <code class=brackets>self.</code>__cost = <code class='statements1'>None</code><br>        <code class=brackets>self.</code>__index = <code class='statements1'>None</code><br><br>    <code class='comment'># def __str__(self):</code><br>    <code class='comment'>#     return "Name: %s, Index: %s, Cost: %s" % (self.__element, self.__index, self.__cost)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__str__</code>(self)</code>:<br>        <code class='statements1'>return</code> <code class='string'>"Name: %s, Cost: %s"</code> % <code class=brackets><code class='brackets'><code class='function'></code>(self.</code>__element, <code class=brackets>self.</code>__cost)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__lt__</code>(self, other)</code>:<br>        <code class='statements1'>if</code> <code class=brackets>self.</code>__cost < <code class=brackets>other.</code>cost:<br>            <code class='statements1'>return</code> <code class='statements1'>True</code><br>        <code class='statements1'>return</code> <code class='statements1'>False</code><br><br>    @property<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>element</code>(self)</code>:<br>        <code class='statements1'>return</code> <code class=brackets>self.</code>__element<br><br>    <code class=brackets>@element.</code>setter<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>element</code>(self, element)</code>:<br>        <code class=brackets>self.</code>__element = element<br><br>    @property<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>index</code>(self)</code>:<br>        <code class='statements1'>return</code> <code class=brackets>self.</code>__index<br><br>    <code class=brackets>@index.</code>setter<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>index</code>(self, i)</code>:<br>        <code class=brackets>self.</code>__index = i<br><br>    @property<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>cost</code>(self)</code>:<br>        <code class='statements1'>return</code> <code class=brackets>self.</code>__cost<br><br>    <code class=brackets>@cost.</code>setter<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>cost</code>(self, new_cost)</code>:<br>        <code class=brackets>self.</code>__cost = new_cost<br><br><br><code class='statements1'>class</code> Edge:<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__init__</code>(self, v, w, element)</code>:<br>        <code class='string'>""</code><code class='string'>" Create an edge between vertices v and w, with a data element<br><br>        Element can be an arbitrarily complex structure<br><br>        Args:<br>            element - the data or label to be associated with the edge<br>        "</code><code class='string'>""</code><br>        <code class=brackets>self.</code>_vertices = <code class='brackets'><code class='function'></code>(v, w)</code><br>        <code class=brackets>self.</code>_element = element<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__str__</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return a string representation of this edge "</code><code class='string'>""</code><br>        <code class='statements1'>return</code> <code class='brackets'><code class='function'></code>(<code class='string'>'('</code> + <code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_vertices[0])</code> + <code class='string'>'--'</code><br>                + <code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_vertices[1])</code> + <code class='string'>' : '</code><br>                + <code class=brackets><code class='brackets'><code class='function'>str</code>(self.</code>_element)</code> + <code class='string'>')'</code>)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>vertices</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return an ordered pair of the vertices of this edge "</code><code class='string'>""</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>_vertices<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>start</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the first vertex in the ordered pair "</code><code class='string'>""</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>_vertices[0]<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>end</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the second vertex in the ordered pair "</code><code class='string'>""</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>_vertices[1]<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>opposite</code>(self, v)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the opposite vertex to v in this edge<br><br>        Args:<br>            v - a vertex object<br>        "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> <code class=brackets>self.</code>_vertices[0] == v:<br>            <code class='statements1'>return</code> <code class=brackets>self.</code>_vertices[1]<br>        <code class='statements1'>elif</code> <code class=brackets>self.</code>_vertices[1] == v:<br>            <code class='statements1'>return</code> <code class=brackets>self.</code>_vertices[0]<br>        else:<br>            <code class='statements1'>return</code> <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>element</code>(self)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the data element for this edge "</code><code class='string'>""</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>_element<br><br><br><code class='statements1'>class</code> Queue:<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__init__</code>(self)</code>:<br>        <code class=brackets>self.</code>__queue = []<br><br>    @property<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>queue</code>(self)</code>:<br>        <code class='statements1'>return</code> <code class=brackets>self.</code>__queue<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__str__</code>(self)</code>:<br>        queue = []<br>        <code class='statements1'>for</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>__queue:<br>            <code class='brackets'><code class='function'><code class=brackets>queue.</code>append</code>(<code class='string'>"Name: %s, Index: %s, Cost: %s"</code> % <code class=brackets><code class='brackets'><code class='function'></code>(v.</code>element, <code class=brackets>v.</code>index, <code class=brackets>v.</code>cost)</code>)</code><br>        <code class='statements1'>return</code> queue<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>get_min</code>(self)</code>:<br>        <code class='statements1'>return</code> <code class=brackets>self.</code>__queue[0]<br><br>    <code class='comment'># ---------------------------------------------------------------</code><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add</code>(self, element)</code>:<br>        <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>__queue.</code>append</code>(element)</code><br>        <code class=brackets>element.</code>index = <code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>__queue)</code> - 1                       <code class='comment'># assign element with initial index (last in list)</code><br>        <code class='brackets'><code class='function'><code class=brackets>self.</code>compare_n_swap_up</code>(element)</code><br>        <code class='statements1'>return</code> element<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>remove</code>(self, element)</code>:<br>        <code class='statements1'>if</code> <code class=brackets>element.</code>index == <code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>__queue)</code>-1:<br>            <code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>__queue.</code>pop</code>(element.</code>index)</code><br>            <code class=brackets>element.</code>index = <code class='statements1'>None</code><br>        else:<br>            other = <code class=brackets>self.</code>__queue[-1]<br>            <code class='brackets'><code class='function'><code class=brackets>self.</code>swap</code>(element, other)</code><br>            <code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>__queue.</code>pop</code>(element.</code>index)</code><br>            <code class='brackets'><code class='function'><code class=brackets>self.</code>compare_n_swap_down</code>(other)</code><br>        <code class=brackets>element.</code>index = 0<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>remove_min</code>(self)</code>:<br>        min_value = <code class=brackets>self.</code>__queue[0]<br>        <code class='brackets'><code class='function'><code class=brackets>self.</code>remove</code>(min_value)</code><br>        <code class='statements1'>return</code> min_value<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>update</code>(self, element, new_cost)</code>:<br>        <code class=brackets>element.</code>cost = new_cost<br>        <code class='brackets'><code class='function'><code class=brackets>self.</code>compare_n_swap_up</code>(element)</code><br><br>    <code class='comment'># ---------------------------------------------------------------</code><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>compare_n_swap_up</code>(self, element)</code>:<br>        <code class='statements1'>if</code> <code class=brackets>element.</code>index > 0:<br>            parent = <code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>__queue[self.</code>parent_index</code>(element.</code>index)</code>]  <code class='comment'># retrieves parent element from list</code><br>            <code class='statements1'>while</code> <code class=brackets>element.</code>index > 0 <code class='statements1'>and</code> <code class='brackets'><code class='function'><code class=brackets>element.</code>__lt__</code>(parent)</code>:<br>                <code class='brackets'><code class='function'><code class=brackets>self.</code>swap</code>(element, parent)</code><br>                parent = <code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>__queue[self.</code>parent_index</code>(element.</code>index)</code>]  <code class='comment'># Gets updated parent</code><br>        <code class='statements1'>return</code> element<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>compare_n_swap_down</code>(self, element)</code>:<br>        list_of_others = <code class='brackets'><code class='function'><code class=brackets>self.</code>get_others</code>(element)</code><br>        <code class='statements1'>while</code> <code class='brackets'><code class='function'>len</code>(list_of_others)</code> > 0:<br>            candidate = list_of_others[0]<br>            <code class='statements1'>if</code> <code class='brackets'><code class='function'>len</code>(list_of_others)</code> > 1:<br>                <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets>list_of_others[1].</code>__lt__</code>(list_of_others[0])</code>:<br>                    candidate = list_of_others[1]<br>            <code class='statements1'>if</code> <code class='brackets'><code class='function'><code class=brackets>candidate.</code>__lt__</code>(element)</code>:<br>                <code class='brackets'><code class='function'><code class=brackets>self.</code>swap</code>(element, candidate)</code><br>                list_of_others = <code class='brackets'><code class='function'><code class=brackets>self.</code>get_others</code>(element)</code><br>            else:<br>                <code class='statements1'>break</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>get_others</code>(self, element)</code>:<br>        children = []<br>        i = <code class=brackets>element.</code>index<br><br>        <code class='statements1'>if</code> <code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>__queue)</code> - 1 >= <code class='brackets'><code class='function'></code>(i * 2 + 1)</code>:  <code class='comment'># checks if left child exists</code><br>            <code class=brackets><code class='brackets'><code class='function'><code class=brackets>children.</code>append</code>(self.</code>__queue[i * 2 + 1])</code>  <code class='comment'># adds left child  --Object--</code><br>        <code class='statements1'>if</code> <code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>__queue)</code> - 1 >= <code class='brackets'><code class='function'></code>(i * 2 + 2)</code>:  <code class='comment'># checks right</code><br>            <code class=brackets><code class='brackets'><code class='function'><code class=brackets>children.</code>append</code>(self.</code>__queue[i * 2 + 2])</code>  <code class='comment'># adds right child --Object--</code><br>        <code class='statements1'>return</code> children<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>swap</code>(self, element, other)</code>:<br>        <code class=brackets><code class=brackets>self.</code>__queue[other.</code>index] = element<br>        <code class=brackets><code class=brackets>self.</code>__queue[element.</code>index] = other<br>        element_index = <code class=brackets>element.</code>index<br>        <code class=brackets>element.</code>index = <code class=brackets>other.</code>index<br>        <code class=brackets>other.</code>index = element_index<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>parent_index</code>(self, i)</code>:<br>        <code class='comment'># if number even subtract 1</code><br>        <code class='statements1'>if</code> i % 2 == 0:<br>            i -= 1<br>        <code class='comment'># regardless divide by 2</code><br>        <code class='statements1'>return</code> i // 2<br><br>    <code class='comment'># -----------------------------------------------------------------------</code><br><br><br><code class='statements1'>class</code> Graph:<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__init__</code>(self, file)</code>:<br>        <code class='string'>""</code><code class='string'>" Create an initial empty graph "</code><code class='string'>""</code><br>        <code class=brackets>self.</code>_structure = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class='brackets'><code class='function'><code class=brackets>self.</code>fill_graph</code>(file)</code><br><br>        <code class='comment'># ---- Dijsktra ----</code><br>        <code class=brackets>self.</code>open = <code class='brackets'><code class='function'>Queue</code>()</code><br>        <code class=brackets>self.</code>locs = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class=brackets>self.</code>closed = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class=brackets>self.</code>preds = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class='comment'># ------------------</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>get_vertex_by_label</code>(self, element)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the first vertex that matches element "</code><code class='string'>""</code><br>        <code class='statements1'>for</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>_structure:<br>            <code class='statements1'>if</code> <code class=brackets>v.</code>element == element:<br>                <code class='statements1'>return</code> v<br>        <code class='statements1'>return</code> <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>get_edges</code>(self, v)</code>:<br>        <code class='string'>""</code><code class='string'>" Return a list of all edges incident on v<br><br>        Args:<br>            v - a vertex object<br>        "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>_structure:<br>            edgelist = []<br>            <code class='statements1'>for</code> w <code class='statements1'>in</code> <code class=brackets>self.</code>_structure[v]:<br>                <code class=brackets><code class='brackets'><code class='function'><code class=brackets>edgelist.</code>append</code>(self.</code>_structure[v][w])</code><br>            <code class='statements1'>return</code> edgelist<br>        <code class='statements1'>return</code> <code class='statements1'>None</code><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>get_edge</code>(self, v, w)</code>:<br>        <code class='statements1'>if</code> <code class=brackets><code class='brackets'><code class='function'></code>(self.</code>_structure <code class='statements1'>is</code> <code class='statements1'>not</code> <code class='statements1'>None</code><br>                <code class='statements1'>and</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>_structure<br>                <code class='statements1'>and</code> w <code class='statements1'>in</code> <code class=brackets>self.</code>_structure[v])</code>:<br>            <code class='statements1'>return</code> <code class=brackets>self.</code>_structure[v][w]<br>        <code class='statements1'>return</code> <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add_vertex</code>(self, element)</code>:<br>        <code class='string'>""</code><code class='string'>" Add a new vertex with data element<br><br>        If there is already a vertex with the same data element,<br>        this will create another vertex instance<br>        "</code><code class='string'>""</code><br>        v = <code class='brackets'><code class='function'>Vertex</code>(element)</code><br>        <code class=brackets>self.</code>_structure[v] = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class='statements1'>return</code> v<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add_vertex_if_new</code>(self, element)</code>:<br>        <code class='string'>""</code><code class='string'>" Add and return a vertex with element, if not already in graph<br><br>        Checks for equality between the elements If there is special<br>        meaning to parts of the element (eg element is a tuple, with an<br>        'id' in cell 0), then this method may create multiple vertices with<br>        the same 'id' if any other parts of element are different<br><br>        To ensure vertices are unique for individual parts of element,<br>        separate methods need to be written<br><br>        "</code><code class='string'>""</code><br>        <code class='statements1'>for</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>_structure:<br>            <code class='statements1'>if</code> <code class=brackets>v.</code>element == element:<br>                <code class='statements1'>return</code> v<br>        <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>add_vertex</code>(element)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add_edge</code>(self, v, w, element)</code>:<br>        e = <code class='brackets'><code class='function'>Edge</code>(v, w, element)</code><br>        <code class=brackets>self.</code>_structure[v][w] = e<br>        <code class=brackets>self.</code>_structure[w][v] = e<br>        <code class='statements1'>return</code> e<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>fill_graph</code>(self, file)</code>:<br>        <code class='string'>""</code><code class='string'>" Read and return the route map in file "</code><code class='string'>""</code><br>        file = <code class='brackets'><code class='function'>open</code>(file, <code class='string'>'r'</code>)</code><br>        entry = <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># either 'Node' or 'Edge'</code><br>        num = 0<br>        <code class='statements1'>while</code> entry == <code class='string'>'Node\n'</code>:<br>            num += 1<br>            nodeid = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>int</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            vertex = <code class='brackets'><code class='function'><code class=brackets>self.</code>add_vertex</code>(nodeid)</code><br>            entry = <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># either 'Node' or 'Edge'</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Read'</code>, num, <code class='string'>'vertices and added into the graph'</code>)</code><br>        num = 0<br>        <code class='statements1'>while</code> entry == <code class='string'>'Edge\n'</code>:<br>            num += 1<br>            source = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>int</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            sv = <code class='brackets'><code class='function'><code class=brackets>self.</code>get_vertex_by_label</code>(source)</code><br>            target = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>int</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            tv = <code class='brackets'><code class='function'><code class=brackets>self.</code>get_vertex_by_label</code>(target)</code><br>            length = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>float</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            edge = <code class='brackets'><code class='function'><code class=brackets>self.</code>add_edge</code>(sv, tv, length)</code><br>            <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># read the one-way data</code><br>            entry = <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># either 'Node' or 'Edge'</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Read'</code>, num, <code class='string'>'edges and added into the graph'</code>)</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>_structure<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>Dijkstra</code>(self, s)</code>:<br>        <code class=brackets>self.</code>preds[s] = <code class='statements1'>None</code><br>        <code class=brackets>s.</code>cost = 0<br>        <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>add</code>(s)</code><br>        <code class=brackets>self.</code>locs[s] = <code class='statements1'>None</code><br>        <code class='statements1'>while</code> <code class=brackets><code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>open.</code>queue)</code> > 0:<br>            v = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>remove_min</code>()</code><br>            <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>locs.</code>pop</code>(v)</code><br>            pred = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>preds.</code>pop</code>(v)</code><br>            <code class=brackets>self.</code>closed[v] = <code class=brackets><code class='brackets'><code class='function'></code>(v.</code>cost, pred)</code><br>            <code class='statements1'>for</code> e <code class='statements1'>in</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>get_edges</code>(v)</code>:<br>                w = <code class='brackets'><code class='function'><code class=brackets>e.</code>opposite</code>(v)</code><br>                <code class='statements1'>if</code> w <code class='statements1'>not</code> <code class='statements1'>in</code> <code class=brackets>self.</code>closed:<br>                    new_cost = <code class=brackets>v.</code>cost + <code class='brackets'><code class='function'><code class=brackets>e.</code>element</code>()</code><br>                    <code class='statements1'>if</code> w <code class='statements1'>not</code> <code class='statements1'>in</code> <code class=brackets>self.</code>locs:<br>                        <code class=brackets>self.</code>preds[w] = v<br>                        <code class=brackets>w.</code>cost = new_cost<br>                        <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>add</code>(w)</code><br>                        <code class=brackets>self.</code>locs[w] = <code class='statements1'>None</code><br>                    <code class='statements1'>elif</code> new_cost < <code class=brackets>w.</code>cost:<br>                        <code class=brackets>self.</code>preds[w] = v<br>                        <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>update</code>(w, new_cost)</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>closed<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>shortest_path_results</code>(self, v=None)</code>:<br>        <code class='statements1'>if</code> v <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class=brackets>self.</code>open = <code class='brackets'><code class='function'>Queue</code>()</code><br>            <code class=brackets>self.</code>locs = <code class='brackets'><code class='function'>dict</code>()</code><br>            <code class=brackets>self.</code>closed = <code class='brackets'><code class='function'>dict</code>()</code><br>            <code class=brackets>self.</code>preds = <code class='brackets'><code class='function'>dict</code>()</code><br>            <code class='brackets'><code class='function'><code class=brackets>self.</code>Dijkstra</code>(v)</code><br>        <code class='statements1'>elif</code> <code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>closed)</code> > 0:<br>            <code class='statements1'>for</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>closed:<br>                <code class='brackets'><code class='function'>print</code>(<code class='string'>"Vertex: %s has shortest path: %s predecessor: %s"</code> % <code class=brackets><code class='brackets'><code class='function'></code>(v.</code>element,           <code class='comment'># vertex name</code><br>                                                                            <code class=brackets>self.</code>closed[v][0],   <code class='comment'># cost</code><br>                                                                            <code class=brackets>self.</code>closed[v][1])</code>)</code>  <code class='comment'># predecessor</code><br><br><br><code class='comment'># -------------- Part 2 --------------</code><br><br><code class='statements1'>class</code> RouteMap:<br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__init__</code>(self, file)</code>:<br>        <code class=brackets>self.</code>_structure = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class=brackets>self.</code>_pointer = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class='brackets'><code class='function'><code class=brackets>self.</code>fill_graph</code>(file)</code><br><br>        <code class='comment'># ---- Dijsktra ----</code><br>        <code class=brackets>self.</code>open = <code class='brackets'><code class='function'>Queue</code>()</code><br>        <code class=brackets>self.</code>locs = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class=brackets>self.</code>closed = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class=brackets>self.</code>preds = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class='comment'># ------------------</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>__str__</code>(self)</code>:<br>        <code class='statements1'>if</code> <code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>_structure)</code> < 100:<br>            <code class='statements1'>for</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>_structure:<br>                edges = <code class='string'>"vertex: %s edges: "</code> % v<br>                <code class='statements1'>for</code> opp <code class='statements1'>in</code> <code class=brackets>self.</code>_structure[v]:<br>                    edges += <code class=brackets>self.</code>_structure[v][opp]<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>fill_graph</code>(self, file)</code>:<br>        <code class='string'>""</code><code class='string'>" Read and return the route map in file "</code><code class='string'>""</code><br>        file = <code class='brackets'><code class='function'>open</code>(file, <code class='string'>'r'</code>)</code><br>        entry = <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># either 'Node' or 'Edge'</code><br>        num = 0<br>        <code class='statements1'>while</code> entry == <code class='string'>'Node\n'</code>:<br>            num += 1<br>            nodeid = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>int</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            line = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'></code>(file.</code>readline</code>()</code>.</code>split</code>()</code>)</code><br>            coordinates = <code class='brackets'><code class='function'></code>(nodeid, line[1], line[2])</code><br>            vertex = <code class='brackets'><code class='function'><code class=brackets>self.</code>add_vertex</code>(coordinates)</code><br>            entry = <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># either 'Node' or 'Edge'</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Read'</code>, num, <code class='string'>'vertices and added into the graph'</code>)</code><br>        num = 0<br>        <code class='statements1'>while</code> entry == <code class='string'>'Edge\n'</code>:<br>            num += 1<br>            source = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>int</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            sv = <code class='brackets'><code class='function'><code class=brackets>self.</code>get_vertex_by_label</code>(source)</code><br>            target = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>int</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            tv = <code class='brackets'><code class='function'><code class=brackets>self.</code>get_vertex_by_label</code>(target)</code><br>            length = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>float</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            time = <code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'><code class=brackets><code class='brackets'><code class='function'>float</code>(file.</code>readline</code>()</code>.</code>split</code>()</code>[1])</code><br>            edge = <code class='brackets'><code class='function'><code class=brackets>self.</code>add_edge</code>(sv, tv, time)</code><br>            <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># read the one-way data</code><br>            entry = <code class='brackets'><code class='function'><code class=brackets>file.</code>readline</code>()</code>  <code class='comment'># either 'Node' or 'Edge'</code><br>        <code class='brackets'><code class='function'>print</code>(<code class='string'>'Read'</code>, num, <code class='string'>'edges and added into the graph'</code>)</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>_structure<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>Dijkstra</code>(self, s)</code>:<br>        <code class=brackets>self.</code>preds[s] = <code class='statements1'>None</code><br>        <code class=brackets>s.</code>cost = 0<br>        <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>add</code>(s)</code><br>        <code class=brackets>self.</code>locs[s] = <code class='statements1'>None</code><br>        <code class='statements1'>while</code> <code class=brackets><code class=brackets><code class='brackets'><code class='function'>len</code>(self.</code>open.</code>queue)</code> > 0:<br>            v = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>remove_min</code>()</code><br>            <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>locs.</code>pop</code>(v)</code><br>            pred = <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>preds.</code>pop</code>(v)</code><br>            <code class=brackets>self.</code>closed[v] = <code class=brackets><code class='brackets'><code class='function'></code>(v.</code>cost, pred)</code><br>            <code class='statements1'>for</code> e <code class='statements1'>in</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>get_edges</code>(v)</code>:<br>                w = <code class='brackets'><code class='function'><code class=brackets>e.</code>opposite</code>(v)</code><br>                <code class='statements1'>if</code> w <code class='statements1'>not</code> <code class='statements1'>in</code> <code class=brackets>self.</code>closed:<br>                    new_cost = <code class=brackets>v.</code>cost + <code class='brackets'><code class='function'><code class=brackets>e.</code>element</code>()</code><br>                    <code class='statements1'>if</code> w <code class='statements1'>not</code> <code class='statements1'>in</code> <code class=brackets>self.</code>locs:<br>                        <code class=brackets>self.</code>preds[w] = v<br>                        <code class=brackets>w.</code>cost = new_cost<br>                        <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>add</code>(w)</code><br>                        <code class=brackets>self.</code>locs[w] = <code class='statements1'>None</code><br>                    <code class='statements1'>elif</code> new_cost < <code class=brackets>w.</code>cost:<br>                        <code class=brackets>self.</code>preds[w] = v<br>                        <code class='brackets'><code class='function'><code class=brackets><code class=brackets>self.</code>open.</code>update</code>(w, new_cost)</code><br>        <code class='statements1'>return</code> <code class=brackets>self.</code>closed<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>get_vertex_by_label</code>(self, id)</code>:<br>        <code class='string'>""</code><code class='string'>" Return the first vertex that matches element "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> id <code class='statements1'>in</code> <code class=brackets>self.</code>_pointer:<br>            <code class='statements1'>return</code> <code class=brackets>self.</code>_pointer[id]<br>        <code class='statements1'>return</code> <code class='statements1'>None</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add_vertex</code>(self, element)</code>:<br>        <code class='string'>""</code><code class='string'>" Add a new vertex with data element<br><br>        If there is already a vertex with the same data element,<br>        this will create another vertex instance<br>        "</code><code class='string'>""</code><br>        <code class='string'>""</code><code class='string'>" -- element = (id, x, y)<br>        "</code><code class='string'>""</code><br><br>        v = <code class='brackets'><code class='function'>Vertex</code>(element)</code><br>        <code class=brackets>self.</code>_structure[v] = <code class='brackets'><code class='function'>dict</code>()</code><br>        <code class=brackets><code class=brackets>self.</code>_pointer[v.</code>element[0]] = v<br>        <code class='statements1'>return</code> v<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add_vertex_if_new</code>(self, element)</code>:<br>        <code class='string'>""</code><code class='string'>" Add and return a vertex with element, if not already in graph<br><br>        Checks for equality between the elements If there is special<br>        meaning to parts of the element (eg element is a tuple, with an<br>        'id' in cell 0), then this method may create multiple vertices with<br>        the same 'id' if any other parts of element are different<br><br>        To ensure vertices are unique for individual parts of element,<br>        separate methods need to be written<br><br>        "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> element <code class='statements1'>in</code> <code class=brackets>self.</code>_pointer:<br>            <code class='statements1'>return</code> <code class=brackets>self.</code>_pointer[element]<br>        <code class='statements1'>return</code> <code class='brackets'><code class='function'><code class=brackets>self.</code>add_vertex</code>(element)</code><br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>get_edges</code>(self, v)</code>:<br>        <code class='string'>""</code><code class='string'>" Return a list of all edges incident on v<br><br>        Args:<br>            v - a vertex object<br>        "</code><code class='string'>""</code><br>        <code class='statements1'>if</code> v <code class='statements1'>in</code> <code class=brackets>self.</code>_structure:<br>            edgelist = []<br>            <code class='statements1'>for</code> w <code class='statements1'>in</code> <code class=brackets>self.</code>_structure[v]:<br>                <code class=brackets><code class='brackets'><code class='function'><code class=brackets>edgelist.</code>append</code>(self.</code>_structure[v][w])</code><br>            <code class='statements1'>return</code> edgelist<br>        <code class='statements1'>return</code> <code class='statements1'>None</code><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>add_edge</code>(self, v, w, element)</code>:<br>        e = <code class='brackets'><code class='function'>Edge</code>(v, w, element)</code><br>        <code class=brackets>self.</code>_structure[v][w] = e<br>        <code class=brackets>self.</code>_structure[w][v] = e<br>        <code class='statements1'>return</code> e<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>sp</code>(self, v, w)</code>:<br>        <code class='brackets'><code class='function'><code class=brackets>self.</code>Dijkstra</code>(v)</code><br>        cur = w<br>        pred = <code class=brackets>self.</code>closed[w][1]<br>        array = <code class='brackets'><code class='function'>list</code>()</code><br>        <code class='statements1'>while</code> pred <code class='statements1'>is</code> <code class='statements1'>not</code> None:<br>            <code class='brackets'><code class='function'><code class=brackets>array.</code>append</code>(<br>                <code class='string'>"%s\t%s\t%s\t%-15s\t%s"</code> % <code class=brackets><code class='brackets'><code class='function'></code>(w.</code>element[0], <code class=brackets>cur.</code>element[1], <code class=brackets>cur.</code>element[2], <code class=brackets>cur.</code>element[0], <code class=brackets>cur.</code>cost)</code>)</code><br>            cur = <code class=brackets>self.</code>closed[cur][1]<br>            pred = <code class=brackets>self.</code>closed[cur][1]<br>        <code class='brackets'><code class='function'><code class=brackets>array.</code>append</code>(<code class='string'>"%s\t%s\t%s\t%-15s\t%s"</code> % <code class=brackets><code class='brackets'><code class='function'></code>(w.</code>element[0], <code class=brackets>cur.</code>element[1], <code class=brackets>cur.</code>element[2], <code class=brackets>cur.</code>element[0], <code class=brackets>cur.</code>cost)</code>)</code><br>        <code class='brackets'><code class='function'><code class=brackets>array.</code>append</code>(<code class='string'>"type\tlatitude\tlongitude\telement\tcost"</code>)</code><br>        <code class='brackets'><code class='function'><code class=brackets>array.</code>reverse</code>()</code><br>        <code class='statements1'>return</code> array<br><br>    <code class='statements2'>def</code> <code class='brackets'><code class='function'>printvlist</code>(self, array)</code>:<br>        <code class='statements1'>for</code> v <code class='statements1'>in</code> array:<br>            <code class='brackets'><code class='function'>print</code>(v)</code><br><br><br><code class='comment'># ------------------------------------</code><br><br><code class='comment'>#########  Part 1. --Test---- simplegraph1.txt --  #########</code><br><code class='comment'># g = Graph("simplegraph1.txt")</code><br><code class='comment'># v = g.get_vertex_by_label(1)</code><br><code class='comment'># closed = g.Dijkstra(v)</code><br><code class='comment'># for v in closed:</code><br><code class='comment'>#     print("Vertex: %s\n"</code><br><code class='comment'>#           "Preceding vertex %s\n"</code><br><code class='comment'>#           "------------------------" % (v, closed[v][1]))</code><br><code class='string'>""</code><code class='string'>""</code><code class='string'>""</code><br><code class='comment'>#########  Part 1. --Test---- simplegraph2.txt --  #########</code><br><code class='comment'># g = Graph("simplegraph2.txt")</code><br><code class='comment'># v = g.get_vertex_by_label(14)</code><br><code class='comment'># closed = g.Dijkstra(v)</code><br><code class='comment'># for v in closed:</code><br><code class='comment'>#     print("Vertex: %s\n"</code><br><code class='comment'>#           "Preceding vertex %s\n"</code><br><code class='comment'>#           "------------------------" % (v, closed[v][1]))</code><br><code class='string'>""</code><code class='string'>""</code><code class='string'>""</code><br><code class='comment'>########  Part 2. --Test-- #########</code><br><br>routemap = <code class='brackets'><code class='function'>RouteMap</code>(<code class='string'>"corkCityDatatxt"</code>)</code><br><br>ids = {}<br><br>ids[<code class='string'>'wgb'</code>] = 1669466540<br><br>ids[<code class='string'>'turnerscross'</code>] = 348809726<br><br>ids[<code class='string'>'neptune'</code>] = 1147697924<br><br>ids[<code class='string'>'cuh'</code>] = 860206013<br><br>ids[<code class='string'>'oldoak'</code>] = 358357<br><br>ids[<code class='string'>'gaol'</code>] = 3777201945<br><br>ids[<code class='string'>'mahonpoint'</code>] = 330068634<br><br>sourcestr = <code class='string'>'wgb'</code><br><br>deststr=<code class='string'>'neptune'</code><br><br>source = <code class='brackets'><code class='function'><code class=brackets>routemap.</code>get_vertex_by_label</code>(ids[sourcestr])</code><br><br>dest = <code class='brackets'><code class='function'><code class=brackets>routemap.</code>get_vertex_by_label</code>(ids[deststr])</code><br><br>tree = <code class='brackets'><code class='function'><code class=brackets>routemap.</code>sp</code>(source,dest)</code><br><br><code class='brackets'><code class='function'><code class=brackets>routemap.</code>printvlist</code>(tree)</code> </pre></code>